x=data.frame(x)
x2=c()
for(i in 1:nrow(x)){
x2[i]=sum(x[i,])
}
x2=x2/ncol(x)
y=seq(1,728,1)
y=y/7
plot(y,x2,type="l",col="blue",ylim=c(1,20))
for(i in 2:ncol(x)){
lines(y,x[,i],col="blue")
}
lines(y,x2,col="black")
x=read.table("Doutorado/PDSEproject/prog/WithMicrocephaly2/symp9.dat",h=F)
x1=c()
for(i in 1:ncol(x)){
soma=0;
for(j in 1:42){
soma=soma+x[j,i]
}
x1[i]=soma
}
x=x[,x1>R0+R0^2+R0^3]
#x=x[,x1>R0+R0^2+R0^3+R0^4+R0^5]
R0=1.9
x=data.frame(x)
x2=c()
for(i in 1:nrow(x)){
x2[i]=sum(x[i,])
}
x2=x2/ncol(x)
y=seq(1,728,1)
y=y/7
plot(y,x2,type="l",col="blue",ylim=c(1,20))
for(i in 2:ncol(x)){
lines(y,x[,i],col="blue")
}
lines(y,x2,col="black")
x=read.table("/home/thomas/Doutorado/PDSEproject/prog/WithMicrocephaly2/",h=F)
x=read.table("/home/thomas/Doutorado/PDSEproject/prog/WithMicrocephaly2/symp9.dat",h=F)
x1=c()
for(i in 1:ncol(x)){
soma=0;
for(j in 1:42){
soma=soma+x[j,i]
}
x1[i]=soma
}
x=x[,x1>R0+R0^2+R0^3]
R0=1.9
x=data.frame(x)
x=read.table("/home/thomas/Doutorado/PDSEproject/prog/WithMicrocephaly2/symp9.dat",h=F)
x1=c()
for(i in 1:ncol(x)){
soma=0;
for(j in 1:42){
soma=soma+x[j,i]
}
x1[i]=soma
}
R0=1.9
x=x[,x1>R0+R0^2+R0^3]
x=data.frame(x)
x2=c()
for(i in 1:nrow(x)){
x2[i]=sum(x[i,])
}
x=read.table("/home/thomas/Doutorado/PDSEproject/prog/WithMicrocephaly2/symp9.dat",h=F)
x1=c()
for(i in 1:ncol(x)){
soma=0;
for(j in 1:42){
soma=soma+x[j,i]
}
x1[i]=soma
}
x=data.frame(x)
x2=c()
for(i in 1:nrow(x)){
x2[i]=sum(x[i,])
}
x2=x2/ncol(x)
y=seq(1,728,1)
y=y/7
plot(y,x[,1],type="l",col="blue")
for(i in 2:ncol(x)){
lines(y,x[,i],col="blue")
}
lines(y,x2,col="black")
ncol(x)
plot(y,x2,type="l")
x=read.table("/home/thomas/Doutorado/PDSEproject/prog/WithMicrocephaly2/symp9.dat",h=F)
x1=c()
for(i in 1:ncol(x)){
soma=0;
for(j in 1:42){
soma=soma+x[j,i]
}
x1[i]=soma
}
R0=1.9
x=x[,x1>R0+R0^2+R0^3]
x=data.frame(x)
x2=c()
for(i in 1:nrow(x)){
x2[i]=sum(x[i,])
}
x2=x2/ncol(x)
y=seq(1,728,1)
y=y/7
plot(y,x[,1],type="l",col="blue")
for(i in 2:ncol(x)){
lines(y,x[,i],col="blue")
}
lines(y,x2,col="black")
0.066*150
0.066*50
0.066*50*0.04
0.066*50*0.044
a = rpois(3000,lambda = 3)
hist(a)
sum(a)
a = rpois(10000,lambda = 3)
hist(a)
sum(a)
a = rpois(10000,lambda = 3)
hist(a)
sum(a)
x = a[a==0]
x
x = a[a==1]
x
length(x)
for (i in 1:length(a)){
if(a[i]==0) a[i]=1
}
x = a[a==1]
length(x)
sum(a)
mean(a)
max(a)
x = a[a==13]
x
x = a[a==12]
x
x = a[a==11]
x
0.066*100*50
0.066*100*5.6
0.066*10*5.6
0.066*10*50
x = read.table("Doutorado/PDSEproject/HerdLocalEffect/Data NZ/New-Zealand/2013_census/2013_Areas_Table.txt", h = T)
x = read.table("Doutorado/PDSEproject/HerdLocalEffect/Data NZ/New-Zealand/2013_census/2013_Areas_Table.txt",h = F)
x = read.table("Doutorado/PDSEproject/HerdLocalEffect/Data NZ/New-Zealand/2013_census/2013_Areas_Table2.txt",h = F)
`2013_Areas_Table2` <- read.csv("~/Doutorado/PDSEproject/HerdLocalEffect/Data NZ/New-Zealand/2013_census/2013_Areas_Table2.txt")
View(`2013_Areas_Table2`)
remove(`2013_Areas_Table2`)
N=6221
x=read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/MaBr.dat",h=F)
leitos<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/leitosBr.txt",h=F)
UTI<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/UTI.dat",h=F)
leitos=leitos-UTI
#leitos2=UTI[leitos==0] #como são apenas hospitais pequenos de nivel 1, vou excluir
#x=matrix(0,N,N)
UTI=UTI[leitos!=0]
x=x[leitos!=0,leitos!=0]
leitos=leitos[leitos!=0]
leitos1=leitos[UTI!=0]
leitos2=leitos[UTI==0]
n1=length(leitos1)
n2=length(leitos2)
#vamos separar em quem tem UTI e quem não tem
TP<-x[UTI!=0,UTI!=0]
TE<-x[UTI==0,UTI==0]
TEP<-x[UTI!=0,UTI==0]
TPE<-x[UTI==0,UTI!=0]
TP=as.matrix(TP)
TE=as.matrix(TE)
TEP=as.matrix(TEP)
TPE=as.matrix(TPE)
TU=as.matrix(TP)
x = cbind(rbind(TP,TEP),rbind(TPE,TE))
x = cbind(rbind(TP,TPE),rbind(TEP,TE))
x
x[1,1]
write.table(x,"matrixPronta.dat",col.names = F,row.names = F)
nrow(x)
UTI<-UTI[UTI!=0]
length(UTI)
l1 = c(leitos1,leitos2)
l1
length(l1)
l1 = l1+c(rep(0,length(1)))
l1 = c(leitos1,leitos2)
rep(0,2)
l1 = l1+c(UTI,rep(0,length(leitos2)))
l1
length(l1)
c(UTI,rep(0,length(leitos2)))
aaa = c(UTI,rep(0,length(leitos2)))
show(aaa)
aaa[4]
aaa[4000]
aaa[aaa!=0]
somax = rowSums(x)
length(somax)
resultado = cbind(l1,somax)
write.table(resultado,"/home/Dou")
write.table(resultado,"/home/thomas/Doutorado/Doenças Tropicais/br/")
write.table(resultado,"/home/thomas/Doutorado/Doenças Tropicais/br/leitosk.dat",row.names = F,col.names = F)
somax[l1>1600]
somax[l1>16]
somax[l1>1400]
somax[l1>60]
l1[somax>60]
boxplot(somax,l1)
boxplot(c(somax,l1)
)
lm(resultado)
resultado = data.frame(resultado)
lm(1,resultado)
lm(resultado)
lm(I^2(),resultado)
lm(y~I^2(x),resultado)
resultados
resultado
lm(somax~I^2(l1),resultado)
lm(somax~l1^2,resultado)
lm(somax~a+l1^2,resultado)
lm(somax~l1+l1^2,resultado)
lm(somax~I(l1)+I^2(l1),resultado)
lm(somax~I(l1^2),resultado)
lm(somax~I(l1)+I(l1^2),resultado)
leitos<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/leitosBr.txt",h=F)
leitos[leitos<10]
leitos<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/leitosBr.txt",h=F)
UTI<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/UTI.dat",h=F)
leitos2=leitos-UTI
UTI=UTI[leitos2!=0]
#x=x[leitos!=0,leitos2!=0]
leitos=leitos[leitos2!=0]
step = 50
n = (max(leitos)-min(leitos))/step+1
vecPro = rep(0,n)
vecPro2 = rep(0,n)
for(j in 1:length(leitos)){
i = ceiling(leitos[j]/step)+1
vecPro2[i] = vecPro2[i] + 1
if(UTI[j]>0.99){
vecPro[i] = vecPro[i] + 1
}
}
plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
axis(1,at = c(0,50,100,150),labels = c("0","500","1000","1500"))
axis(2)
step = 40
n = (max(leitos)-min(leitos))/step+1
vecPro = rep(0,n)
vecPro2 = rep(0,n)
for(j in 1:length(leitos)){
i = ceiling(leitos[j]/step)+1
vecPro2[i] = vecPro2[i] + 1
if(UTI[j]>0.99){
vecPro[i] = vecPro[i] + 1
}
}
plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
axis(1,at = c(0,50,100,150),labels = c("0","500","1000","1500"))
axis(2)
barplot(vecPro/vecPro2,width = step)
axis(1,at = c(0,50,100,150),labels = c("0","500","1000","1500"))
axis(2)
barplot(vecPro/vecPro2,width = step)
barplot(vecPro/vecPro2,width = step,xlim = 1500)
barplot(vecPro/vecPro2,width = step,xlim = c(0,1500))
axis(1,at = c(0,50,100,150),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = step,xlim = c(0,1500))
barplot(vecPro/vecPro2,width = step)
barplot(vecPro/vecPro2,width = step,xlim = c(0,1500))
x=read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/MaBr.dat",h=F)
axis(1,at = c(0,50,100,150),xlim = c(0,1500),labels = c("0","500","1000","1500"))
axis(1,at = c(0,500,1000,1500),xlim = c(0,1500),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = step)
axis(1,at = c(0,500,1000,1500),xlim = c(0,1500),labels = c("0","500","1000","1500"))
axis(2)
vecPro/vecPro2
max(leitos)
n
n*step
barplot(vecPro/vecPro2,width = step)
axis(1,at = c(0,500,1000,1500),xlim = c(min(leitos),1500),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = step,xlim = c(min(leitos),1500))
axis(1,at = c(0,500,1000,1500),xlim = c(min(leitos),1500),labels = c("0","500","1000","1500"))
axis(1,at = c(0,500,1000,1500),xlim = c(min(leitos),n*step),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = step,xlim = c(min(leitos),n*step))
axis(1,at = c(0,500,1000,1500),xlim = c(min(leitos),n*step),labels = c("0","500","1000","1500"))
min(leitos)
length(vecPro)
barplot(vecPro/vecPro2,width = 10,xlim = c(min(leitos),n*step))
barplot(vecPro/vecPro2,width = step,xlim = c(min(leitos),n*step))
step = 40
n = (max(leitos)-min(leitos))/step+1
vecPro = rep(0,n)
vecPro2 = rep(0,n)
for(j in 1:length(leitos)){
i = ceiling(leitos[j]/step)+1
vecPro2[i] = vecPro2[i] + 1
if(UTI[j]>0.99){
vecPro[i] = vecPro[i] + 1
}
}
barplot(vecPro/vecPro2,width = step,xlim = c(min(leitos),n*step))
axis(1,at = c(0,500,1000,1500),xlim = c(min(leitos),n*step),labels = c("0","500","1000","1500"))
axis(1,at = c(0,500,1000,1500),xlim = c(ceiling(min(leitos)),n*step),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = step,xlim = c(ceiling(min(leitos)),n*step))
axis(1,at = c(0,500,1000,1500),xlim = c(ceiling(min(leitos)),n*step),labels = c("0","500","1000","1500"))
vecPro/vecPro2
barplot(vecPro/vecPro2,width = step,xlim = c(ceiling(min(leitos)),n*step))
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
axis(2)
bwid = rep(step,length(vecPro))
barplot(vecPro/vecPro2,width = bwid,xlim = c(ceiling(min(leitos)),n*step))
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = bwid,n*step))
barplot(vecPro/vecPro2,width = bwid)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = bwid,space = NULL)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
barplot(vecPro/vecPro2,width = bwid,space = 0)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
axis(2)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU")
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
############# Plot probability of having ICU against number of beds
##########
leitos<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/leitosBr.txt",h=F)
UTI<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/UTI.dat",h=F)
leitos[leitos>1400]
UTI[leitos>1400]
vecPro/vecPro2
ceiling(1475/40)+1
leitos2=leitos-UTI
UTI=UTI[leitos2!=0]
#x=x[leitos!=0,leitos2!=0]
leitos=leitos[leitos2!=0]
UTI[leitos>1400]
vecPro2[38]
n = (max(leitos)-min(leitos))/step+1
vecPro = rep(0,n)
vecPro2 = rep(0,n)
for(j in 1:length(leitos)){
i = ceiling(leitos[j]/step)+1
vecPro2[i] = vecPro2[i] + 1
if(UTI[j]>0.99){
vecPro[i] = vecPro[i] + 1
}
}
n
step = 40
n = (max(leitos)-min(leitos))/step+2
vecPro = rep(0,n)
vecPro2 = rep(0,n)
for(j in 1:length(leitos)){
i = ceiling(leitos[j]/step)+1
vecPro2[i] = vecPro2[i] + 1
if(UTI[j]>0.99){
vecPro[i] = vecPro[i] + 1
}
}
bwid = rep(step,length(vecPro))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU")
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
UTI[leitos>1250]
UTI[leitos>1000]
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.axis = 2)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.names = 2)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = NA,ylab = NA)
title(main = "",xlab = "Number of beds",ylab = "Probability of having ICU",cex = 2)
title(main = "",xlab = "Number of beds",ylab = "Probability of having ICU",cex = 3)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = NA,ylab = NA)
title(main = "",xlab = "Number of beds",ylab = "Probability of having ICU",cex = 3)
title(main = "",xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = NA,ylab = NA)
title(main = "",xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = NA,ylab = NA,)
title(main = "",xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"))
axis(2)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = NA,ylab = NA,,cex = 1.3)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = NA,ylab = NA,cex = 1.3)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = NA,ylab = NA)
title(main = "",xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex = 1.3)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex = 5)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex = 1.3)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.3)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex = 5)
axis(2)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.3)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex = 5)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex.axis = 5)
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex.axis = 1.6)
par(mar = c(1,1,1,1))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
par(mar = c(4,1,1,1))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
par(mar = c(4,4,1,1))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
par(mar = c(5,5,5,5))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
par(mar = c(5,5,3,5))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
par(mar = c(5,5,3,3))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
par(mar = c(5,5,3,2))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,xlab = "Number of beds",ylab = "Probability of having ICU",cex.lab = 2,cex.axis = 1.6)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex.axis = 1.6)
############# Plot probability of having ICU against number of beds
##########
leitos<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/leitosBr.txt",h=F)
UTI<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/UTI.dat",h=F)
leitos2=leitos-UTI
UTI=UTI[leitos2!=0]
#x=x[leitos!=0,leitos2!=0]
leitos=leitos[leitos2!=0]
UTI[leitos>400]
length(UTI[leitos>400])
length(UTI[leitos>400 && UTI==0])
length(UTI[leitos>400 && UTI>0])
UTI[leitos>400 && UTI>0]
UTI[UTI>0]
UTI2 = UTI[leitos>400]
UTI2[UTI2>0]
length(UTI2)
length(UTI2[UTI2>0])
UTI2 = UTI[leitos>300]
length(UTI2)
length(UTI2[UTI2>0])
UTI2 = UTI[leitos>200]
length(UTI2)
length(UTI2[UTI2>0])
############# Plot probability of having ICU against number of beds
##########
leitos<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/leitosBr.txt",h=F)
UTI<-read.table("/home/thomas/Doutorado/Doenças Tropicais/br/modelo022017/UTI.dat",h=F)
leitos2=leitos-UTI
UTI=UTI[leitos2!=0]
#x=x[leitos!=0,leitos2!=0]
leitos=leitos[leitos2!=0]
step = 40
n = (max(leitos)-min(leitos))/step+2
vecPro = rep(0,n)
vecPro2 = rep(0,n)
for(j in 1:length(leitos)){
i = ceiling(leitos[j]/step)+1
vecPro2[i] = vecPro2[i] + 1
if(UTI[j]>0.99){
vecPro[i] = vecPro[i] + 1
}
}
bwid = rep(step,length(vecPro))
par(mar = c(6,6,2,2))
#plot(vecPro/vecPro2,axes = F,xlab = "Number of beds",ylab = "Probability of having ICU",type = "p",pch = 19)
barplot(vecPro/vecPro2,width = bwid,space = 0,axes = F,ylim = c(0,1.02))
box(which = "plot",lwd = 1.5)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex.axis = 1.8,tck = 0.02,cex.lab = 2.5,xlab = "")
axis(2,tck = 0.02,cex.axis = 1.8,ylab = "")
mtext(side = 1,"Number of beds",line = 4,cex = 2.5)
mtext(side = 2,"Proportion of hospitals with ICU",line = 3.5,cex = 2.2)
mtext(side = 2,"Proportion of hospitals with ICU",line = 3.5,cex = 1.8)
barplot(vecPro/vecPro2,width = bwid,space = 0,axes = F,ylim = c(0,1.02))
box(which = "plot",lwd = 1.5)
axis(1,at = c(0,500,1000,1500),xlim = c(0,n*step),labels = c("0","500","1000","1500"),cex.axis = 1.8,tck = 0.02,cex.lab = 2.5,xlab = "")
axis(2,tck = 0.02,cex.axis = 1.8,ylab = "")
mtext(side = 1,"Number of beds",line = 4,cex = 2.5)
mtext(side = 2,"Proportion of hospitals with ICU",line = 3.5,cex = 1.8)
qnorm(0.025,lower.tail = T)
qnorm(0.025,lower.tail = F)
(1.96*2/0.05*9)^2
(1.96*2/(0.05*9))^2
setwd("~/Doutorado/PDSEproject/InfluenzaBR/influenza-1/results_PlhKqxBD/")
data1 = read.table("beta_0_079_symp.dat",h = F)
View(data1)
plot(rowMeans(data1))
